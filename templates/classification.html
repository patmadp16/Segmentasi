
{% extends "layout.html" %}

{% block contents %}
<div class="container" style="margin-top: 40px;">
    <div style="text-align: center;">
        <h3 id="capTitle">Klasifikasi data uji</h3>
       <!-------->
        <img src="#" id="filePicPrev" style="text-align: center;width:500px;">
        <hr/>
        <div id="divFormUji">
            <form class="form-horizontal" action="/submit" method="POST" enctype="multipart/form-data">
                <label for="pwd">Upload Gambar Data Uji</label>
                <input type="file" class="form-control" id="txtFileFoto" onchange="setImg()" name="my_image">    
            </br>
                <button type="submit" class="btn btn-success" onclick="startprocess()">Submit</button>
            </form>
            {% if confidence %}
            <div id="divFormHasil">
                <h5>Hasil Prediksi</h5>
                <img src="{{img_path}}" height="400px" width="400px">
                <h3 id="capHasilPrediksi"> <p>Predicted Class: {{prediction}}</p></h3> 
            </br>
                <h5>Nilai Confidence (Kecocokan)</h5>
                <h3><p>Accuracy: {{ confidence }}%</p></h3>   
            </div>
            {%endif %}

            <div>
                <a href="{{ BASE_URL }}/klasifikasi" class="btn btn-primary btn-lg">Tes klasifikasi/Uji ulang</a>
            </div>
            
        </div>
    </div>
</div>
<script>
    $("#divFormHasil").hide();

    function startprocess(){
        let gambarD = document.getElementById("txtFileFoto").getAttribute();

        if(gambarD == ""){
            messageError ("Warning", "Kesalahan", "File Uji belum dipilih");
        }else{
            messageComfirm ("Infor","Konfirmasi", "Mulai Proses Klasifikasi", function(x){klasifikasiConfirm()})
        }
        
    }
</script>
{% endblock contents %}


